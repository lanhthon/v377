# Há»‡ Thá»‘ng Gia CÃ´ng Máº¡ NhÃºng NÃ³ng

## Tá»•ng Quan

Há»‡ thá»‘ng gia cÃ´ng máº¡ nhÃºng nÃ³ng tá»± Ä‘á»™ng hÃ³a quy trÃ¬nh xuáº¥t kho sáº£n pháº©m ULA máº¡ Ä‘iá»‡n phÃ¢n Ä‘á»ƒ gia cÃ´ng thÃ nh máº¡ nhÃºng nÃ³ng.

## Quy TrÃ¬nh

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. ÄÆ N HÃ€NG CÃ“ Sáº¢N PHáº¨M ULA Máº  NHÃšNG NÃ“NG                      â”‚
â”‚     (Xá»­ lÃ½ bá» máº·t = "Máº¡ nhÃºng nÃ³ng")                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. KIá»‚M TRA Tá»’N KHO Sáº¢N PHáº¨M Máº  NHÃšNG NÃ“NG                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                       â”‚
         â–¼                       â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Äá»¦ HÃ€NG â”‚           â”‚ THIáº¾U HÃ€NG  â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
        â”‚                       â”‚
        â–¼                       â–¼
   KHÃ”NG LÃ€M GÃŒ        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚ 3. TÃŒM Sáº¢N PHáº¨M Máº  ÄIá»†N  â”‚
                       â”‚    PHÃ‚N TÆ¯Æ NG á»¨NG        â”‚
                       â”‚    (cÃ¹ng thÃ´ng sá»‘,       â”‚
                       â”‚     khÃ´ng cÃ³ háº­u tá»‘)     â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                       â”‚
                    â–¼                       â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Äá»¦ MÄP  â”‚           â”‚ THIáº¾U MÄP    â”‚
              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                       â”‚
                   â–¼                       â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ 4. XUáº¤T KHO Máº  ÄIá»†N    â”‚  â”‚ A. Sáº¢N XUáº¤T ULA    â”‚
      â”‚    PHÃ‚N ÄI GIA CÃ”NG    â”‚  â”‚    Máº  ÄIá»†N PHÃ‚N    â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                        â”‚
                   â”‚                        â–¼
                   â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚              â”‚ B. NHáº¬P KHO MÄP    â”‚
                   â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                        â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ 5. GIA CÃ”NG Máº  NHÃšNG   â”‚
                   â”‚    NÃ“NG                â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ 6. NHáº¬P KHO Sáº¢N PHáº¨M   â”‚
                   â”‚    Máº  NHÃšNG NÃ“NG       â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## CÃ i Äáº·t

### 1. Cháº¡y Migration

Táº¡o báº£ng database cáº§n thiáº¿t:

```bash
cd /home/user/v377/migrations
php run_migration.php
```

### 2. Cáº¥u TrÃºc Database

**Báº£ng chÃ­nh:**
- `phieu_xuat_gia_cong` - LÆ°u phiáº¿u xuáº¥t kho gia cÃ´ng
- `lich_su_gia_cong` - LÆ°u lá»‹ch sá»­ theo dÃµi
- `chitietchuanbihang` - ThÃªm cá»™t theo dÃµi tráº¡ng thÃ¡i gia cÃ´ng

## API Endpoints

### 1. Xuáº¥t Kho Gia CÃ´ng

**Endpoint:** `POST api/process_gia_cong_ma_nhung_nong.php`

**Request:**
```json
{
  "cbh_id": 123,
  "chi_tiet_cbh_id": 456,
  "so_luong_xuat": 100,
  "nguoi_xuat": "Admin",
  "ghi_chu": "Xuáº¥t gia cÃ´ng lÃ´ 1"
}
```

**Response:**
```json
{
  "success": true,
  "message": "Xuáº¥t kho gia cÃ´ng máº¡ nhÃºng nÃ³ng thÃ nh cÃ´ng",
  "data": {
    "ma_phieu_xuat": "GC-MNN-123-1730000000",
    "phieu_xuat_id": 1,
    "san_pham_xuat": {
      "id": 100,
      "ma": "ULA 125x40-M10",
      "ten": "ULA 125x40-M10 Máº¡ Ä‘iá»‡n phÃ¢n",
      "ton_kho_truoc": 500,
      "ton_kho_sau": 400
    },
    "san_pham_nhan": {
      "id": 101,
      "ma": "ULA 125x40-M10-HDG",
      "ten": "ULA 125x40-M10 Máº¡ nhÃºng nÃ³ng"
    },
    "so_luong_xuat": 100,
    "ngay_xuat": "2025-10-30 10:30:00"
  }
}
```

### 2. Nháº­p Kho Sau Gia CÃ´ng

**Endpoint:** `POST api/import_gia_cong_ma_nhung_nong.php`

**Request:**
```json
{
  "phieu_xuat_gc_id": 1,
  "so_luong_nhap": 95,
  "nguoi_nhap": "Admin",
  "ghi_chu": "Nháº­p kho sau gia cÃ´ng, hao há»¥t 5 bá»™"
}
```

**Response:**
```json
{
  "success": true,
  "message": "Nháº­p kho sau gia cÃ´ng thÃ nh cÃ´ng",
  "data": {
    "ma_phieu": "GC-MNN-123-1730000000",
    "san_pham_nhan": {
      "id": 101,
      "ma": "ULA 125x40-M10-HDG",
      "ten": "ULA 125x40-M10 Máº¡ nhÃºng nÃ³ng",
      "ton_kho_truoc": 0,
      "ton_kho_sau": 95
    },
    "so_luong_nhap": 95,
    "so_luong_da_nhap": 95,
    "so_luong_xuat": 100,
    "trang_thai": "ÄÃ£ nháº­p kho",
    "ngay_nhap": "2025-10-30 15:45:00"
  }
}
```

### 3. Láº¥y Danh SÃ¡ch Phiáº¿u Gia CÃ´ng

**Endpoint:** `GET api/get_danh_sach_gia_cong.php`

**Parameters:**
- `cbh_id` (optional) - Lá»c theo phiáº¿u CBH
- `trang_thai` (optional) - Lá»c theo tráº¡ng thÃ¡i (ÄÃ£ xuáº¥t, Äang gia cÃ´ng, ÄÃ£ nháº­p kho)
- `tu_ngay` (optional) - Lá»c tá»« ngÃ y (Y-m-d)
- `den_ngay` (optional) - Lá»c Ä‘áº¿n ngÃ y (Y-m-d)
- `page` (optional, default: 1) - Trang hiá»‡n táº¡i
- `limit` (optional, default: 50) - Sá»‘ báº£n ghi má»—i trang

**Response:**
```json
{
  "success": true,
  "data": [
    {
      "PhieuXuatGC_ID": 1,
      "MaPhieu": "GC-MNN-123-1730000000",
      "CBH_ID": 123,
      "SoCBH": "CBH-2025-001",
      "MaSanPhamXuat": "ULA 125x40-M10",
      "MaSanPhamNhan": "ULA 125x40-M10-HDG",
      "SoLuongXuat": 100,
      "SoLuongNhapVe": 95,
      "TrangThai": "ÄÃ£ nháº­p kho",
      "TienDoNhap": "95/100 (95%)",
      "NgayXuat": "2025-10-30 10:30:00",
      "NgayNhapKho": "2025-10-30 15:45:00"
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 50,
    "total": 1,
    "totalPages": 1
  },
  "stats": {
    "ÄÃ£ xuáº¥t": 5,
    "Äang gia cÃ´ng": 3,
    "ÄÃ£ nháº­p kho": 12
  }
}
```

## Logic TÃ¬m Sáº£n Pháº©m

### Quy Táº¯c Mapping Sáº£n Pháº©m

Khi cÃ³ sáº£n pháº©m máº¡ nhÃºng nÃ³ng (vÃ­ dá»¥: `ULA 125x40-M10-HDG`), há»‡ thá»‘ng tÃ¬m sáº£n pháº©m máº¡ Ä‘iá»‡n phÃ¢n tÆ°Æ¡ng á»©ng dá»±a trÃªn:

1. **Thuá»™c tÃ­nh "Xá»­ lÃ½ bá» máº·t":**
   - Sáº£n pháº©m xuáº¥t: `"Máº¡ Ä‘iá»‡n phÃ¢n"`
   - Sáº£n pháº©m nháº­n: `"Máº¡ nhÃºng nÃ³ng"`

2. **CÃ¹ng thuá»™c tÃ­nh ká»¹ thuáº­t:**
   - `ID ThÃ´ng Sá»‘` (vÃ­ dá»¥: 125x40)
   - `KÃ­ch thÆ°á»›c ren` (vÃ­ dá»¥: M10)

3. **KhÃ´ng cÃ³ háº­u tá»‘ SKU:**
   - Loáº¡i trá»«: `-HDG`, `-MNN`, `-PVC`, `-CP`
   - VÃ­ dá»¥ mapping:
     - `ULA 125x40-M10-HDG` âœ `ULA 125x40-M10`
     - `ULA 100x50-M8-HDG` âœ `ULA 100x50-M8`

### VÃ­ Dá»¥ Cá»¥ Thá»ƒ

```
ÄÆ¡n hÃ ng yÃªu cáº§u: 100 bá»™ "ULA 125x40-M10-HDG" (Máº¡ nhÃºng nÃ³ng)
                           â†“
Kiá»ƒm tra tá»“n kho: ULA 125x40-M10-HDG = 20 bá»™ (Thiáº¿u 80 bá»™)
                           â†“
TÃ¬m sáº£n pháº©m MÄP: ULA 125x40-M10 (Máº¡ Ä‘iá»‡n phÃ¢n)
                           â†“
Kiá»ƒm tra tá»“n kho MÄP: 150 bá»™ (Äá»§)
                           â†“
Xuáº¥t 80 bá»™ ULA 125x40-M10 Ä‘i gia cÃ´ng
                           â†“
Sau gia cÃ´ng: Nháº­p 80 bá»™ ULA 125x40-M10-HDG vÃ o kho
                           â†“
Tá»•ng tá»“n kho MNN: 20 + 80 = 100 bá»™ (Äá»§ cho Ä‘Æ¡n hÃ ng)
```

## Giao Diá»‡n NgÆ°á»i DÃ¹ng

### Trang Chuáº©n Bá»‹ HÃ ng

Khi xem chi tiáº¿t phiáº¿u chuáº©n bá»‹ hÃ ng, náº¿u cÃ³ sáº£n pháº©m ULA máº¡ nhÃºng nÃ³ng cáº§n gia cÃ´ng, há»‡ thá»‘ng hiá»ƒn thá»‹:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ­ XUáº¤T KHO GIA CÃ”NG Máº  NHÃšNG NÃ“NG                         â”‚
â”‚ 3 sáº£n pháº©m                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â„¹ï¸ LÆ°u Ã½: Há»‡ thá»‘ng tá»± Ä‘á»™ng tÃ¬m sáº£n pháº©m ULA máº¡ Ä‘iá»‡n phÃ¢n  â”‚
â”‚ tÆ°Æ¡ng á»©ng Ä‘á»ƒ xuáº¥t kho gia cÃ´ng...                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ STT â”‚ SP NhÃºng NÃ³ng      â”‚ SP Máº¡ ÄP  â”‚ Cáº§n â”‚ Xuáº¥t GC â”‚... â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚ 1   â”‚ ULA 125x40-M10-HDG â”‚ ULA 125.. â”‚ 100 â”‚   80    â”‚ âš¡  â”‚
â”‚     â”‚ Tá»“n: 20            â”‚ Tá»“n: 150  â”‚     â”‚         â”‚    â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚ [Xuáº¥t táº¥t cáº£ gia cÃ´ng]                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Danh SÃ¡ch Phiáº¿u Gia CÃ´ng

Trang quáº£n lÃ½ theo dÃµi cÃ¡c phiáº¿u Ä‘Ã£ xuáº¥t:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DANH SÃCH PHIáº¾U XUáº¤T GIA CÃ”NG                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Tráº¡ng thÃ¡i: [Táº¥t cáº£ â–¼] Tá»« ngÃ y: [____] Äáº¿n: [____] [Lá»c] â”‚
â”œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ STT â”‚ MÃ£ Phiáº¿u    â”‚ SP Xuáº¥t  â”‚ SP Nháº­n  â”‚ Tiáº¿n Ä‘á»™â”‚ TT     â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1   â”‚ GC-MNN-123..â”‚ ULA 125..â”‚ ULA 125..â”‚ 95/100 â”‚ âœ… Xongâ”‚
â”‚ 2   â”‚ GC-MNN-124..â”‚ ULA 100..â”‚ ULA 100..â”‚ 0/50   â”‚ ğŸ“¤ Xuáº¥tâ”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Tráº¡ng ThÃ¡i

### Tráº¡ng ThÃ¡i Phiáº¿u Xuáº¥t Gia CÃ´ng

- **ÄÃ£ xuáº¥t**: ÄÃ£ xuáº¥t kho máº¡ Ä‘iá»‡n phÃ¢n, chÆ°a nháº­p vá»
- **Äang gia cÃ´ng**: ÄÃ£ nháº­p vá» má»™t pháº§n
- **ÄÃ£ nháº­p kho**: ÄÃ£ nháº­p vá» Ä‘á»§ sá»‘ lÆ°á»£ng

### Tráº¡ng ThÃ¡i Chi Tiáº¿t CBH

- `TrangThaiGiaCong`:
  - `NULL`: KhÃ´ng cáº§n gia cÃ´ng
  - `ChÆ°a xuáº¥t`: Cáº§n gia cÃ´ng nhÆ°ng chÆ°a xuáº¥t
  - `ÄÃ£ xuáº¥t`: ÄÃ£ xuáº¥t Ä‘i gia cÃ´ng
  - `Äang gia cÃ´ng`: Äang trong quÃ¡ trÃ¬nh
  - `ÄÃ£ nháº­p kho`: ÄÃ£ nháº­p vá» Ä‘á»§

## BÃ¡o CÃ¡o & Thá»‘ng KÃª

### Inventory Logs

Má»i thay Ä‘á»•i tá»“n kho Ä‘á»u Ä‘Æ°á»£c ghi log:

```sql
-- Xuáº¥t gia cÃ´ng
change_type: 'XUAT_GIA_CONG'
reference_type: 'PHIEU_XUAT_GIA_CONG'

-- Nháº­p sau gia cÃ´ng
change_type: 'NHAP_GIA_CONG'
reference_type: 'PHIEU_XUAT_GIA_CONG'
```

### Lá»‹ch Sá»­ Gia CÃ´ng

Báº£ng `lich_su_gia_cong` theo dÃµi tá»«ng bÆ°á»›c:

```
2025-10-30 10:30 | ÄÃ£ xuáº¥t     | Xuáº¥t 100 bá»™ ULA 125x40-M10
2025-10-30 15:45 | ÄÃ£ nháº­p kho | Nháº­p 95 bá»™ ULA 125x40-M10-HDG
```

## LÆ°u Ã Quan Trá»ng

1. **Kiá»ƒm tra tá»“n kho:** LuÃ´n kiá»ƒm tra tá»“n kho kháº£ dá»¥ng trÆ°á»›c khi xuáº¥t
2. **Hao há»¥t:** Cho phÃ©p nháº­p vá» Ã­t hÆ¡n xuáº¥t Ä‘i (hao há»¥t trong gia cÃ´ng)
3. **Transaction:** Táº¥t cáº£ thao tÃ¡c Ä‘á»u dÃ¹ng transaction Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh nháº¥t quÃ¡n
4. **Audit trail:** Má»i thay Ä‘á»•i Ä‘á»u Ä‘Æ°á»£c ghi log
5. **Rollback:** Náº¿u cÃ³ lá»—i, toÃ n bá»™ thao tÃ¡c sáº½ bá»‹ rollback

## Troubleshooting

### KhÃ´ng tÃ¬m tháº¥y sáº£n pháº©m máº¡ Ä‘iá»‡n phÃ¢n

**NguyÃªn nhÃ¢n:**
- Sáº£n pháº©m MÄP chÆ°a Ä‘Æ°á»£c táº¡o trong há»‡ thá»‘ng
- Thuá»™c tÃ­nh "ID ThÃ´ng Sá»‘" hoáº·c "KÃ­ch thÆ°á»›c ren" khÃ´ng khá»›p
- SKU cÃ³ háº­u tá»‘ khÃ´ng Ä‘Ãºng quy chuáº©n

**Giáº£i phÃ¡p:**
1. Kiá»ƒm tra sáº£n pháº©m MÄP Ä‘Ã£ tá»“n táº¡i chÆ°a
2. Äáº£m báº£o cÃ¡c thuá»™c tÃ­nh khá»›p nhau
3. Kiá»ƒm tra SKU khÃ´ng cÃ³ háº­u tá»‘ (-HDG, -MNN, -PVC)

### Lá»—i khÃ´ng Ä‘á»§ tá»“n kho

**NguyÃªn nhÃ¢n:**
- Tá»“n kho máº¡ Ä‘iá»‡n phÃ¢n khÃ´ng Ä‘á»§
- ÄÃ£ cÃ³ phiáº¿u CBH khÃ¡c gÃ¡n tá»“n kho nÃ y

**Giáº£i phÃ¡p:**
1. Táº¡o yÃªu cáº§u sáº£n xuáº¥t ULA máº¡ Ä‘iá»‡n phÃ¢n
2. Chá» sáº£n xuáº¥t hoÃ n táº¥t
3. Thá»±c hiá»‡n láº¡i xuáº¥t gia cÃ´ng

## PhÃ¡t Triá»ƒn TÆ°Æ¡ng Lai

- [ ] TÃ­ch há»£p vá»›i há»‡ thá»‘ng ERP nhÃ  cung cáº¥p
- [ ] Tá»± Ä‘á»™ng táº¡o yÃªu cáº§u sáº£n xuáº¥t khi thiáº¿u MÄP
- [ ] BÃ¡o cÃ¡o chi phÃ­ gia cÃ´ng
- [ ] Dá»± bÃ¡o nhu cáº§u gia cÃ´ng
- [ ] Mobile app cho thá»§ kho

## LiÃªn Há»‡ & Há»— Trá»£

Náº¿u cÃ³ váº¥n Ä‘á», vui lÃ²ng liÃªn há»‡ bá»™ pháº­n IT hoáº·c táº¡o bug report.
